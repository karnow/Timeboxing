(this.webpackJsonptimeboxing=this.webpackJsonptimeboxing||[]).push([[0],{114:function(e,t,n){"use strict";var r=n(0),o=n.n(r).a.createContext({Logout:null});t.a=o},120:function(e,t,n){"use strict";var r=n(15),o=n(16),i=n(18),u=n(17),a=n(0),c=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return(e=t.call.apply(t,[this].concat(i))).state={hasError:!1},e}return Object(o.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log("nast\u0105pi\u0142 nast\u0119puj\u0105cy b\u0142\u0105d:",e,t)}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.children;return this.state.hasError?t:n}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(n.n(a).a.Component);t.a=c},121:function(e,t,n){e.exports=n(224)},135:function(e,t){},137:function(e,t){},146:function(e,t){},148:function(e,t){},175:function(e,t){},176:function(e,t){},182:function(e,t){},217:function(e,t){},220:function(e,t){},223:function(e,t,n){},224:function(e,t,n){"use strict";n.r(t);n(64);var r=n(15),o=n(16),i=n(18),u=n(17),a=n(0),c=n.n(a),s=n(35),l=n.n(s),f=n(115),d=n(14),m=n(116),E=n(34),b=n(62),p=n(6);var v=function(e){var t=e.errorMessage,n=e.onLoginAttempt,r=Object(a.useRef)(),o=Object(a.useRef)();return c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n({email:r.current.value,password:o.current.value}),r.current.value="",o.current.value=""},className:"LoginForm"},t?c.a.createElement("div",{className:"LoginForm__error-message"},t):null,c.a.createElement("label",null,"Email",c.a.createElement("input",{ref:r,type:"text",defaultValue:"bob@example.com"})),c.a.createElement("br",null),c.a.createElement("label",null,"Has\u0142o",c.a.createElement("input",{ref:o,type:"password",defaultValue:"secret"})),c.a.createElement("br",null),c.a.createElement("button",null,"Zaloguj si\u0119"))},h=n(11),T=n.n(h),O=n(20),I={login:function(){var e=Object(O.a)(T.a.mark((function e(t){var n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.email,r=t.password,"bob@example.com"!==n||"secret"!==r){e.next=3;break}return e.abrupt("return",{accessToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJvYkBleGFtcGxlLmNvbSIsImlhdCI6MTYwNzUwNDU2NiwiZXhwIjoxNjA3NTA4MTY2LCJzdWIiOiIxIn0.w9aIezqtop9r_xDXrzw6fuf5tL2TsLhP00vlDaLOvMA"});case 3:throw new Error("Invalid credentials");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g=(n(120),n(63)),x=n(114),y=c.a.lazy((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,258))})),j=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return(e=t.call.apply(t,[this].concat(i))).state={accessToken:null,previousLoginAttemptFailed:!1},e.isUserLoggedIn=function(){return e.state.accessToken},e.handleLogout=function(){localStorage.removeItem("userTimebox"),e.setState({accessToken:null,previousLoginAttemptFailed:!1}),console.log(e.state.accessToken),e.props.deleteFinishTime()},e.handleLoginAttempt=function(t){console.log(t),I.login(t).then((function(t){var n=t.accessToken;console.log(n),localStorage.setItem("userTimebox",n),e.setState({accessToken:n,previousLoginAttemptFailed:!1})})).catch((function(){e.setState({previousLoginAttemptFailed:!0})}))},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("userTimebox");console.log(e),this.setState({accessToken:e})}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return c.a.createElement("div",{className:"App"},this.isUserLoggedIn()?c.a.createElement(g.a.Provider,{value:{accessToken:this.state.accessToken}},c.a.createElement(x.a.Provider,{value:{Logout:this.handleLogout}},c.a.createElement(c.a.Suspense,{fallback:"...loading"},c.a.createElement(y,null)))):c.a.createElement(v,{errorMessage:this.state.previousLoginAttemptFailed?"Nie uda\u0142o si\u0119 zalogowa\u0107":null,onLoginAttempt:this.handleLoginAttempt}))}}]),n}(c.a.Component);var _=Object(E.b)((function(e){return{timeboxesFinished:Object(p.e)(e)}}),(function(e){return{deleteFinishTime:function(){e(Object(b.c)())}}}))(j),w=(n(223),Object(d.createStore)(p.m,Object(m.composeWithDevTools)(Object(d.applyMiddleware)(f.a)))),R=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this,e)).update=function(){o.time+=.02,o.draw(),o.animationRequestId=window.requestAnimationFrame(o.update)},o.canvas=c.a.createRef(),o.time=0,o}return Object(o.a)(n,[{key:"draw",value:function(){var e=this.canvas.current.getContext("2d"),t=this.props,n=t.size,r=t.rectanglesCount;e.clearRect(0,0,n,n),e.fillStyle="rgba(0, 150, 0, 0.2)",e.save(),e.translate(n/2,n/2);for(var o=n/Math.sqrt(2),i=0;i<r;++i){var u=o*(i+1),a=u/r,c=u;e.save(),e.rotate(c+this.time),e.translate(-a/2,-a/2),e.fillRect(0,0,a,a),e.restore()}e.restore()}},{key:"componentDidMount",value:function(){this.animationRequestId=window.requestAnimationFrame(this.update)}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){window.cancelAnimationFrame(this.animationRequestId)}},{key:"render",value:function(){var e=this.props.size;return c.a.createElement("canvas",{ref:this.canvas,style:{border:"1px solid gray"},width:e,height:e})}}]),n}(c.a.Component);c.a.Component;l.a.render(c.a.createElement(E.a,{store:w},c.a.createElement(_,null)),document.getElementById("root"))},6:function(e,t,n){"use strict";n.d(t,"m",(function(){return a})),n.d(t,"b",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return v})),n.d(t,"h",(function(){return h})),n.d(t,"j",(function(){return T})),n.d(t,"l",(function(){return O})),n.d(t,"g",(function(){return I})),n.d(t,"c",(function(){return g})),n.d(t,"i",(function(){return x})),n.d(t,"k",(function(){return y})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return _}));var r=n(3),o=n(61),i=n(14),u={searchQuery:"",timeboxesFinished:[],timeboxesCopi:[]},a=Object(i.combineReducers)({first:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{currentTimeboxID:c(e.currentTimeboxID,t),timeboxes:s(e.timeboxes,t),currentlyEditedTimeboxId:l(e.currentlyEditedTimeboxId,t),isEditable:f(e.isEditable,t),loading:d(e.loading,t),error:m(e.error,t),hasError:E(e.hasError,t)}},secound:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TIMEBOX_FINISHED":var n=t.timebox,i=[].concat(Object(o.a)(e.timeboxesFinished),[n]);return Object(r.a)(Object(r.a)({},e),{},{timeboxesFinished:i});case"DELETE_FINISHED_TIMEBOXES":return Object(r.a)(Object(r.a)({},e),{},{timeboxesFinished:[]});case"CHANGE_SEARCH_QUERY":var a=t.searchQuery;return Object(r.a)(Object(r.a)({},e),{},{searchQuery:a});case"SEARCH_RESET":return Object(r.a)(Object(r.a)({},e),{},{searchQuery:""});case"RESET_TIMEBOXES_COPI":return Object(r.a)(Object(r.a)({},e),{},{timeboxesCopi:[]});case"SEARCH_RESULT":var c=t.timeboxesed;t.searchQuery;return console.log(c),Object(r.a)(Object(r.a)({},e),{},{timeboxesCopi:c});default:return e}}});function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TIMEBOX_MAKE_CURRENT":var n=t.timebox;return n.id;case"TIMEBOX_REMOVE":var r=t.indexToRemove,o=e===r.id?null:e;return o;default:return e}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TIMEBOXES_SET":var n=t.timeboxes;return n;case"TIMEBOX_ADD":var r=t.timebox,i=[].concat(Object(o.a)(e),[r]);return i;case"TIMEBOX_REMOVE":var u=t.indexToRemove,a=e.filter((function(e){return e.id!==u.id}));return a;case"TIMEBOX_REPLACE":var c=t.replacedTimebox,s=e.map((function(e){return e.id===c.id?c:e}));return s;case"SEARCH_RESULT":var l=t.timeboxesed,f=t.searchQuery;console.log(l),console.log(f);var d=l.filter((function(e){return e.title.toLowerCase().includes(f.toLowerCase())}));return d;case"SEARCH_RESET":var m=t.timeboxes;return m;default:return e}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TIMEBOX_EDIT_STOP":return null;case"TIMEBOX_EDIT_START":var n=t.currentlyEditedTimeboxId;return n;case"TIMEBOXES_EDITABLE":return null;default:return e}}function f(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TIMEBOX_EDIT_STOP":return!1;case"TIMEBOX_EDIT_START":return!0;case"TIMEBOXES_EDITABLE":return!1;default:return e}}function d(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_INDICATOR_DISABLE":return!1;default:return e}}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ERROR_SET":var n=t.error;return n;default:return e}}function E(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ERROR_SELV":return!0;default:return e}}var b=function(e){return e.first.timeboxes},p=function(e){return e.first.timeboxes.filter((function(t){return t.id!==e.first.currentTimeboxID}))},v=function(e){return e.first.loading},h=function(e){return e.first.error},T=function(e){return e.first.hasError},O=function(e,t){return e.first.currentlyEditedTimeboxId&&e.first.currentlyEditedTimeboxId===t.id},I=function(e){return e.secound.searchQuery},g=function(e){return e.secound.timeboxesCopi},x=function(e){return e.first.isEditable},y=function(e){return!!e.first.currentTimeboxID},j=function(e){return y(e)?w(e,e.first.currentTimeboxID):null},_=function(e){return e.secound.timeboxesFinished},w=function(e,t){return e.first.timeboxes.find((function(e){return e.id===t}))}},62:function(e,t,n){"use strict";n.d(t,"l",(function(){return E})),n.d(t,"k",(function(){return b})),n.d(t,"c",(function(){return v})),n.d(t,"i",(function(){return h})),n.d(t,"e",(function(){return T})),n.d(t,"d",(function(){return O})),n.d(t,"j",(function(){return I})),n.d(t,"h",(function(){return g})),n.d(t,"a",(function(){return x})),n.d(t,"g",(function(){return y})),n.d(t,"b",(function(){return j})),n.d(t,"f",(function(){return _}));var r=n(3),o=n(11),i=n.n(o),u=n(20),a=n(118);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(t){setTimeout(t,e)}))}var s=[{id:"a",title:"ucz\u0119 si\u0119 list",totalTimeInMinutes:25,isEdit:!1},{id:"b",title:"ucz\u0119 si\u0119 formularzy",totalTimeInMinutes:15,isEdit:!1},{id:"c",title:"ucz\u0119 si\u0119 komponent\xf3w niekontrolowanych",totalTimeInMinutes:5,isEdit:!1}];function l(e){var t=s.findIndex((function(t){return t.id==e}));if(t<0)throw new Error("Timbox o podanym id nie istnieje");return t}var f={getAllTimeboxes:function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(200);case 2:return console.log("GET all :",s),e.abrupt("return",[].concat(s));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addTimebox:function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(200);case 2:return n=Object(r.a)(Object(r.a)({},t),{},{id:Object(a.a)()}),console.log("POST :",s),s.push(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),replaceTimebox:function(){var e=Object(u.a)(i.a.mark((function e(t){var n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(200);case 2:if(t.id){e.next=4;break}throw new Error("cannot replace timebox without an id");case 4:return n=l(t.id),o=Object(r.a)({},t),s[n]=o,console.log("PUT :",s),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),removeTimebox:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(200);case 2:if(console.log(t),t){e.next=5;break}throw new Error("cannot remove timebox without an id");case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},d=n(6),m=function(e){return{type:"TIMEBOX_REMOVE",indexToRemove:e}},E=function(){return{type:"TIMEBOX_EDIT_STOP"}},b=function(e){return{type:"TIMEBOX_EDIT_START",currentlyEditedTimeboxId:e.id}},p=function(e){return{type:"ADD_TIMEBOX_FINISHED",timebox:e}},v=function(){return{type:"DELETE_FINISHED_TIMEBOXES"}},h=function(e){return{type:"CHANGE_SEARCH_QUERY",searchQuery:e.target.value}},T=function(e){return{type:"TIMEBOX_MAKE_CURRENT",timebox:e}},O=function(){return function(e,t){Object(d.k)(t())&&(console.log(Object(d.d)(t())),e(p(Object(d.d)(t()))),e(m(Object(d.d)(t()))))}},I=function(e,t){return function(t,n){var r,o;e.preventDefault(),console.log(Object(d.g)(n())),console.log(Object(d.b)(n())),t((r=Object(d.b)(n()),o=Object(d.g)(n()),{type:"SEARCH_RESULT",timeboxesed:r,searchQuery:o}))}},g=function(){return function(e,t){e(function(e){return{type:"SEARCH_RESET",timeboxes:e}}(Object(d.c)(t()))),e({type:"RESET_TIMEBOXES_COPI"})}},x=function(e){return function(t){f.getAllTimeboxes(e).then((function(e){return t(function(e){return{type:"TIMEBOXES_SET",timeboxes:e}}(e))})).catch((function(e){return Promise.reject(t(function(e){return{type:"ERROR_SET",error:e}}(e)))})).finally((function(){return t({type:"LOADING_INDICATOR_DISABLE"})}))}},y=function(e,t){return function(n){console.log(e),f.removeTimebox(e,t).then((function(e){n(m(e)),console.log(e),n(p(e))})).catch((function(e){return console.log("B\u0142\u0105d :",e)}))}},j=function(e,t){return function(n){try{f.addTimebox(e,t).then((function(e){return n({type:"TIMEBOX_ADD",timebox:e})}))}catch(r){console.log("jest b\u0142\u0105d przy tworzeniu timeboxa",r),n({type:"ERROR_SELV"})}}},_=function(e,t,n){return function(r){console.log(e),f.replaceTimebox(t,n).then((function(e){return r(function(e){return{type:"TIMEBOX_REPLACE",replacedTimebox:e}}(e))})).finally((function(){return r({type:"TIMEBOXES_EDITABLE"})}))}}},63:function(e,t,n){"use strict";var r=n(0),o=n.n(r).a.createContext({accessToken:null});t.a=o}},[[121,1,2]]]);
//# sourceMappingURL=main.ed89b63d.chunk.js.map