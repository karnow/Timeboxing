(this.webpackJsonptimeboxing=this.webpackJsonptimeboxing||[]).push([[0],{114:function(e,t,n){"use strict";var r=n(0),o=n.n(r).a.createContext({Logout:null});t.a=o},120:function(e,t,n){"use strict";var r=n(15),o=n(16),i=n(18),a=n(17),c=n(0),u=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={hasError:!1},e}return Object(o.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log("nast\u0105pi\u0142 nast\u0119puj\u0105cy b\u0142\u0105d:",e,t)}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.children;return this.state.hasError?t:n}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(n.n(c).a.Component);t.a=u},121:function(e,t,n){e.exports=n(224)},135:function(e,t){},137:function(e,t){},146:function(e,t){},148:function(e,t){},175:function(e,t){},176:function(e,t){},182:function(e,t){},217:function(e,t){},220:function(e,t){},223:function(e,t,n){},224:function(e,t,n){"use strict";n.r(t);n(64);var r=n(15),o=n(16),i=n(18),a=n(17),c=n(0),u=n.n(c),s=n(35),l=n.n(s),f=n(115),d=n(14),m=n(116),E=n(34),b=n(62),p=n(6);var v=function(e){var t=e.errorMessage,n=e.onLoginAttempt,r=Object(c.useRef)(),o=Object(c.useRef)();return u.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n({email:r.current.value,password:o.current.value}),r.current.value="",o.current.value=""},className:"LoginForm"},t?u.a.createElement("div",{className:"LoginForm__error-message"},t):null,u.a.createElement("label",null,"Email",u.a.createElement("input",{ref:r,type:"text",defaultValue:"bob@example.com"})),u.a.createElement("br",null),u.a.createElement("label",null,"Has\u0142o",u.a.createElement("input",{ref:o,type:"password",defaultValue:"secret"})),u.a.createElement("br",null),u.a.createElement("button",null,"Zaloguj si\u0119"))},h=n(11),T=n.n(h),O=n(20),g={login:function(){var e=Object(O.a)(T.a.mark((function e(t){var n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.email,r=t.password,"bob@example.com"!==n||"secret"!==r){e.next=3;break}return e.abrupt("return",{accessToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJvYkBleGFtcGxlLmNvbSIsImlhdCI6MTYwNzUwNDU2NiwiZXhwIjoxNjA3NTA4MTY2LCJzdWIiOiIxIn0.w9aIezqtop9r_xDXrzw6fuf5tL2TsLhP00vlDaLOvMA"});case 3:throw new Error("Invalid credentials");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},I=(n(120),n(63)),x=n(114),y=u.a.lazy((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,258))})),j=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={accessToken:null,previousLoginAttemptFailed:!1},e.isUserLoggedIn=function(){return e.state.accessToken},e.handleLogout=function(){localStorage.removeItem("userTimebox"),e.setState({accessToken:null,previousLoginAttemptFailed:!1}),console.log(e.state.accessToken),e.props.deleteFinishTime()},e.handleLoginAttempt=function(t){console.log(t),g.login(t).then((function(t){var n=t.accessToken;console.log(n),localStorage.setItem("userTimebox",n),e.setState({accessToken:n,previousLoginAttemptFailed:!1})})).catch((function(){e.setState({previousLoginAttemptFailed:!0})}))},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("userTimebox");console.log(e),this.setState({accessToken:e})}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return u.a.createElement("div",{className:"App"},this.isUserLoggedIn()?u.a.createElement(I.a.Provider,{value:{accessToken:this.state.accessToken}},u.a.createElement(x.a.Provider,{value:{Logout:this.handleLogout}},u.a.createElement(u.a.Suspense,{fallback:"...loading"},u.a.createElement(y,null)))):u.a.createElement(v,{errorMessage:this.state.previousLoginAttemptFailed?"Nie uda\u0142o si\u0119 zalogowa\u0107":null,onLoginAttempt:this.handleLoginAttempt}))}}]),n}(u.a.Component);var _=Object(E.b)((function(e){return{timeboxesFinished:Object(p.e)(e)}}),(function(e){return{deleteFinishTime:function(){e(Object(b.c)())}}}))(j),w=(n(223),Object(d.createStore)(p.m,Object(m.composeWithDevTools)(Object(d.applyMiddleware)(f.a)))),S=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this,e)).update=function(){o.time+=.02,o.draw(),o.animationRequestId=window.requestAnimationFrame(o.update)},o.canvas=u.a.createRef(),o.time=0,o}return Object(o.a)(n,[{key:"draw",value:function(){var e=this.canvas.current.getContext("2d"),t=this.props,n=t.size,r=t.rectanglesCount;e.clearRect(0,0,n,n),e.fillStyle="rgba(0, 150, 0, 0.2)",e.save(),e.translate(n/2,n/2);for(var o=n/Math.sqrt(2),i=0;i<r;++i){var a=o*(i+1),c=a/r,u=a;e.save(),e.rotate(u+this.time),e.translate(-c/2,-c/2),e.fillRect(0,0,c,c),e.restore()}e.restore()}},{key:"componentDidMount",value:function(){this.animationRequestId=window.requestAnimationFrame(this.update)}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){window.cancelAnimationFrame(this.animationRequestId)}},{key:"render",value:function(){var e=this.props.size;return u.a.createElement("canvas",{ref:this.canvas,style:{border:"1px solid gray"},width:e,height:e})}}]),n}(u.a.Component),R=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={rectanglesCount:10},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"App"},u.a.createElement("h1",null,"Hello Canvas"),u.a.createElement("button",{onClick:function(){return e.setState((function(e){return{rectanglesCount:e.rectanglesCount+1}}))}},"+1"),u.a.createElement("button",{onClick:function(){return e.setState((function(e){return{rectanglesCount:e.rectanglesCount-1}}))}},"-1"),u.a.createElement("br",null),u.a.createElement(S,{size:300,rectanglesCount:this.state.rectanglesCount}))}}]),n}(u.a.Component);l.a.render(u.a.createElement(u.a.Fragment,null,u.a.createElement(E.a,{store:w},u.a.createElement(_,null),u.a.createElement(R,null))),document.getElementById("root"))},6:function(e,t,n){"use strict";n.d(t,"m",(function(){return c})),n.d(t,"b",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return v})),n.d(t,"h",(function(){return h})),n.d(t,"j",(function(){return T})),n.d(t,"l",(function(){return O})),n.d(t,"g",(function(){return g})),n.d(t,"c",(function(){return I})),n.d(t,"i",(function(){return x})),n.d(t,"k",(function(){return y})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return _}));var r=n(3),o=n(61),i=n(14),a={searchQuery:"",timeboxesFinished:[],timeboxesCopi:[]},c=Object(i.combineReducers)({first:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{currentTimeboxID:u(e.currentTimeboxID,t),timeboxes:s(e.timeboxes,t),currentlyEditedTimeboxId:l(e.currentlyEditedTimeboxId,t),isEditable:f(e.isEditable,t),loading:d(e.loading,t),error:m(e.error,t),hasError:E(e.hasError,t)}},secound:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TIMEBOX_FINISHED":var n=t.timebox,i=[].concat(Object(o.a)(e.timeboxesFinished),[n]);return Object(r.a)(Object(r.a)({},e),{},{timeboxesFinished:i});case"DELETE_FINISHED_TIMEBOXES":return Object(r.a)(Object(r.a)({},e),{},{timeboxesFinished:[]});case"CHANGE_SEARCH_QUERY":var c=t.searchQuery;return Object(r.a)(Object(r.a)({},e),{},{searchQuery:c});case"SEARCH_RESET":return Object(r.a)(Object(r.a)({},e),{},{searchQuery:""});case"RESET_TIMEBOXES_COPI":return Object(r.a)(Object(r.a)({},e),{},{timeboxesCopi:[]});case"SEARCH_RESULT":var u=t.timeboxesed;t.searchQuery;return console.log(u),Object(r.a)(Object(r.a)({},e),{},{timeboxesCopi:u});default:return e}}});function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TIMEBOX_MAKE_CURRENT":var n=t.timebox;return n.id;case"TIMEBOX_REMOVE":var r=t.indexToRemove,o=e===r.id?null:e;return o;default:return e}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TIMEBOXES_SET":var n=t.timeboxes;return n;case"TIMEBOX_ADD":var r=t.timebox,i=[].concat(Object(o.a)(e),[r]);return i;case"TIMEBOX_REMOVE":var a=t.indexToRemove,c=e.filter((function(e){return e.id!==a.id}));return c;case"TIMEBOX_REPLACE":var u=t.replacedTimebox,s=e.map((function(e){return e.id===u.id?u:e}));return s;case"SEARCH_RESULT":var l=t.timeboxesed,f=t.searchQuery;console.log(l),console.log(f);var d=l.filter((function(e){return e.title.toLowerCase().includes(f.toLowerCase())}));return d;case"SEARCH_RESET":var m=t.timeboxes;return m;default:return e}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TIMEBOX_EDIT_STOP":return null;case"TIMEBOX_EDIT_START":var n=t.currentlyEditedTimeboxId;return n;case"TIMEBOXES_EDITABLE":return null;default:return e}}function f(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TIMEBOX_EDIT_STOP":return!1;case"TIMEBOX_EDIT_START":return!0;case"TIMEBOXES_EDITABLE":return!1;default:return e}}function d(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_INDICATOR_DISABLE":return!1;default:return e}}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ERROR_SET":var n=t.error;return n;default:return e}}function E(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ERROR_SELV":return!0;default:return e}}var b=function(e){return e.first.timeboxes},p=function(e){return e.first.timeboxes.filter((function(t){return t.id!==e.first.currentTimeboxID}))},v=function(e){return e.first.loading},h=function(e){return e.first.error},T=function(e){return e.first.hasError},O=function(e,t){return e.first.currentlyEditedTimeboxId&&e.first.currentlyEditedTimeboxId===t.id},g=function(e){return e.secound.searchQuery},I=function(e){return e.secound.timeboxesCopi},x=function(e){return e.first.isEditable},y=function(e){return!!e.first.currentTimeboxID},j=function(e){return y(e)?w(e,e.first.currentTimeboxID):null},_=function(e){return e.secound.timeboxesFinished},w=function(e,t){return e.first.timeboxes.find((function(e){return e.id===t}))}},62:function(e,t,n){"use strict";n.d(t,"l",(function(){return E})),n.d(t,"k",(function(){return b})),n.d(t,"c",(function(){return v})),n.d(t,"i",(function(){return h})),n.d(t,"e",(function(){return T})),n.d(t,"d",(function(){return O})),n.d(t,"j",(function(){return g})),n.d(t,"h",(function(){return I})),n.d(t,"a",(function(){return x})),n.d(t,"g",(function(){return y})),n.d(t,"b",(function(){return j})),n.d(t,"f",(function(){return _}));var r=n(3),o=n(11),i=n.n(o),a=n(20),c=n(118);function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(t){setTimeout(t,e)}))}var s=[{id:"a",title:"ucz\u0119 si\u0119 list",totalTimeInMinutes:25,isEdit:!1},{id:"b",title:"ucz\u0119 si\u0119 formularzy",totalTimeInMinutes:15,isEdit:!1},{id:"c",title:"ucz\u0119 si\u0119 komponent\xf3w niekontrolowanych",totalTimeInMinutes:5,isEdit:!1}];function l(e){var t=s.findIndex((function(t){return t.id==e}));if(t<0)throw new Error("Timbox o podanym id nie istnieje");return t}var f={getAllTimeboxes:function(){var e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(200);case 2:return console.log("GET all :",s),e.abrupt("return",[].concat(s));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addTimebox:function(){var e=Object(a.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(200);case 2:return n=Object(r.a)(Object(r.a)({},t),{},{id:Object(c.a)()}),console.log("POST :",s),s.push(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),replaceTimebox:function(){var e=Object(a.a)(i.a.mark((function e(t){var n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(200);case 2:if(t.id){e.next=4;break}throw new Error("cannot replace timebox without an id");case 4:return n=l(t.id),o=Object(r.a)({},t),s[n]=o,console.log("PUT :",s),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),removeTimebox:function(){var e=Object(a.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(200);case 2:if(console.log(t),t){e.next=5;break}throw new Error("cannot remove timebox without an id");case 5:n=l(t),s.splice(n,1),console.log("DELETE:",s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},d=n(6),m=function(e){return{type:"TIMEBOX_REMOVE",indexToRemove:e}},E=function(){return{type:"TIMEBOX_EDIT_STOP"}},b=function(e){return{type:"TIMEBOX_EDIT_START",currentlyEditedTimeboxId:e.id}},p=function(e){return{type:"ADD_TIMEBOX_FINISHED",timebox:e}},v=function(){return{type:"DELETE_FINISHED_TIMEBOXES"}},h=function(e){return{type:"CHANGE_SEARCH_QUERY",searchQuery:e.target.value}},T=function(e){return{type:"TIMEBOX_MAKE_CURRENT",timebox:e}},O=function(){return function(e,t){Object(d.k)(t())&&(console.log(Object(d.d)(t())),e(p(Object(d.d)(t()))),e(m(Object(d.d)(t()))))}},g=function(e,t){return function(t,n){var r,o;e.preventDefault(),console.log(Object(d.g)(n())),console.log(Object(d.b)(n())),t((r=Object(d.b)(n()),o=Object(d.g)(n()),{type:"SEARCH_RESULT",timeboxesed:r,searchQuery:o}))}},I=function(){return function(e,t){e(function(e){return{type:"SEARCH_RESET",timeboxes:e}}(Object(d.c)(t()))),e({type:"RESET_TIMEBOXES_COPI"})}},x=function(e){return function(t){f.getAllTimeboxes(e).then((function(e){return t(function(e){return{type:"TIMEBOXES_SET",timeboxes:e}}(e))})).catch((function(e){return Promise.reject(t(function(e){return{type:"ERROR_SET",error:e}}(e)))})).finally((function(){return t({type:"LOADING_INDICATOR_DISABLE"})}))}},y=function(e,t){return function(n){f.removeTimebox(e,t).then((function(){n(m(e)),console.log(e),n(p(e))})).catch((function(e){return console.log("B\u0142\u0105d :",e)}))}},j=function(e,t){return function(n){try{f.addTimebox(e,t).then((function(e){return n({type:"TIMEBOX_ADD",timebox:e})}))}catch(r){console.log("jest b\u0142\u0105d przy tworzeniu timeboxa",r),n({type:"ERROR_SELV"})}}},_=function(e,t,n){return function(r){console.log(e),f.replaceTimebox(t,n).then((function(e){return r(function(e){return{type:"TIMEBOX_REPLACE",replacedTimebox:e}}(e))})).finally((function(){return r({type:"TIMEBOXES_EDITABLE"})}))}}},63:function(e,t,n){"use strict";var r=n(0),o=n.n(r).a.createContext({accessToken:null});t.a=o}},[[121,1,2]]]);
//# sourceMappingURL=main.ec1dc7a4.chunk.js.map